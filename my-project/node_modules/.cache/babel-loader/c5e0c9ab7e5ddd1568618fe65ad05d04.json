{"remainingRequest":"/Users/lisa/Desktop/study/all/my-project/node_modules/babel-loader/lib/index.js!/Users/lisa/Desktop/study/all/my-project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lisa/Desktop/study/all/my-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lisa/Desktop/study/all/my-project/src/components/about.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lisa/Desktop/study/all/my-project/src/components/about.vue","mtime":1584674594968},{"path":"/Users/lisa/Desktop/study/all/my-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/all/my-project/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/all/my-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/all/my-project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2xpc2EvRGVza3RvcC9zdHVkeS9hbGwvbXktcHJvamVjdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9saXNhL0Rlc2t0b3Avc3R1ZHkvYWxsL215LXByb2plY3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYWJvdXQiLAogIC8vIOiwg+eUqGFwcC52dWXnu4Tku7bkuK3nmoTmlrnms5UKICBpbmplY3Q6IFsicmVsb2FkIl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3Q6IFtdLAogICAgICBhbGxjaGVjazogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRwcm9kdWN0OiBmdW5jdGlvbiBnZXRwcm9kdWN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRodHRwLmdldCgiL2dvb2RzbGlzdCIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMubGlzdCA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInNob3BwaW5nY2FydCIsIEpTT04uc3RyaW5naWZ5KF90aGlzLmxpc3QpKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLmxpc3QpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZWRpdENhcnQ6IGZ1bmN0aW9uIGVkaXRDYXJ0KGZsYWcsIGl0ZW0pIHsKICAgICAgaWYgKGZsYWcgPT0gImFkZCIpIHsKICAgICAgICAvLyDmt7vliqDllYblk4HmlbDph48KICAgICAgICBpdGVtLnByb2R1Y3ROdW0rKzsKICAgICAgICBjb25zb2xlLmxvZyhOdW1iZXIoaXRlbS5wcm9kdWN0TnVtKSk7CiAgICAgIH0gZWxzZSBpZiAoZmxhZyA9PSAibWludSIpIHsKICAgICAgICAvLyDlh4/lsJHllYblk4HmlbDph48KICAgICAgICBpZiAoaXRlbS5wcm9kdWN0TnVtIDw9IDEpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGl0ZW0ucHJvZHVjdE51bS0tOyAvLyBjb25zb2xlLmxvZyhOdW1iZXIoaXRlbS5wcm9kdWN0TnVtKSApCiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5ZWG5ZOB5o6n5Yi26YCJ5LitCiAgICAgICAgaXRlbS5jaGVja2VkID0gaXRlbS5jaGVja2VkID09ICIxIiA/ICIxIiA6ICIwIjsKICAgICAgfQoKICAgICAgdGhpcy4kaHR0cC5wb3N0KCIvY2FydEVkaXQiLCB7CiAgICAgICAgcHJvZHVjdElkOiBpdGVtLnByb2R1Y3RJZCwKICAgICAgICBwcm9kdWN0TnVtOiBpdGVtLnByb2R1Y3ROdW0sCiAgICAgICAgY2hlY2tlZDogaXRlbS5jaGVja2VkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSk7CiAgICB9LAogICAgY2hlY2thbGw6IGZ1bmN0aW9uIGNoZWNrYWxsKCkgewogICAgICBjb25zb2xlLmxvZyhldmVudC50YXJnZXQuY2hlY2tlZCk7CiAgICAgIHRoaXMubGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaXRlbS5jaGVja2VkID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7CiAgICAgIH0pOwogICAgfSwKICAgIGRlbDogZnVuY3Rpb24gZGVsKGksIGlkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kaHR0cC5kZWxldGUoIi9jYXJ0RGVsLyIgKyBpZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICAgICAgICBfdGhpczIucmVsb2FkKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoewogICAgdG90YWxNb25leTogZnVuY3Rpb24gdG90YWxNb25leSgpIHsKICAgICAgdmFyIGFsbG1vbmV5ID0gMDsgLy8gbGV0IGlzQWxsQ2hlY2sgPSB0cnVlOwoKICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLmxpc3QpIHsKICAgICAgICBpZiAodGhpcy5saXN0W2ldLmNoZWNrZWQpIHsKICAgICAgICAgIGFsbG1vbmV5ICs9IHRoaXMubGlzdFtpXS5wcm9kdWN0TnVtICogdGhpcy5saXN0W2ldLnNhbGVQcmljZTsKICAgICAgICB9IGVsc2Ugey8vIGlzQWxsQ2hlY2sgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gLy8gdGhpcy5hbGxjaGVjayA9PSBpc0FsbENoZWNrOwoKCiAgICAgIHJldHVybiBhbGxtb25leTsKICAgIH0KICB9LCBtYXBHZXR0ZXJzKHsKICAgIC8vIOiwg+eUqGdldHRlcnPmi7/mlbDmja4s5ou/5Yiw55qE5pivZXhwcmVzc+S4reeahGRhdGEKICAgIGNhcnRpbmZvOiAiR0VUQ0FSVCIKICB9KSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIHRoaXMuX2luaXRQYWdlRGF0YSgpCiAgICAvLyDlj5HpgIHlrZjmlbDmja7mjIfku6TosIPnlKhhY3Rpb25z6YeM55qE5pa55rOV77yM5aaC5p6c5rKh5ZOf6L+Z5q2l77yM5piv6I635Y+W5LiN5Yiw5pWw5o2u55qECiAgICAvLyAnSU5JVENBUlQn5pivYWN0aW9uc+mHjOeahFtJTklUQ0FSVF3nmoTlrp7kvosKICAgIC8vIHN0b3Jl5pivbWFpbi5qc+mHjOWumuS5ieeahOWunuS+i+WMlueahHZ1ZXgKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJJTklUQ0FSVCIpOwogICAgdGhpcy5nZXRwcm9kdWN0KCk7CiAgfQp9Ow=="},{"version":3,"sources":["about.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\n * @Author: your name\n * @Date: 2020-03-07 17:05:46\n * @LastEditTime: 2020-03-18 10:57:31\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /all/my-project/src/components/about.vue\n -->\n<template>\n  <div class=\"about container\">\n    <button class=\"btn btn-default\">\n      <router-link to=\"/customers\">返回主页</router-link>\n    </button>\n    <button>获取数据</button>\n    <br />\n\n    <h2>购物车</h2>\n    <ul>\n      <li v-for=\"(item,index) in this.list\" :key=\"index\">\n        <div>\n          <h3>{{item.productName}}</h3>\n          <input type=\"checkbox\" v-model=\"item.checked\" /> \n          <span>{{item.produceName}}</span>\n          <button class=\"btn btn-default\" @click=\"editCart('minu',item)\">-</button>\n          <span>{{item.productNum}}</span>\n          <button class=\"btn btn-default\" @click=\"editCart('add',item)\">+</button>\n          <span>价格：{{item.salePrice}}</span>\n          <button @click=\"del(index,item.productId)\" class=\"btn btn-default\">删除</button>\n        </div>\n      </li>\n    </ul>\n    <input type=\"checkbox\" v-model=\"allcheck\" @click=\"checkall\" />\n    <button>合计:{{totalMoney}}</button>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"about\",\n  // 调用app.vue组件中的方法\n  inject: [\"reload\"],\n  data() {\n    return {\n      list: [],\n      allcheck: false\n    };\n  },\n  methods: {\n    async getproduct() {\n      const res = await this.$http.get(\"/goodslist\");\n      this.list = res.data;\n      localStorage.setItem(\"shoppingcart\", JSON.stringify(this.list));\n      console.log(this.list);\n    },\n    editCart(flag,item) {\n      if (flag == \"add\") {\n        // 添加商品数量\n          item.productNum++;\n          console.log(Number(item.productNum) )\n      } else if ((flag ==\"minu\")) {\n        // 减少商品数量\n        if (item.productNum <= 1) {\n          return;\n        }\n        item.productNum--;\n        // console.log(Number(item.productNum) )\n      } else {\n        // 商品控制选中\n        item.checked = item.checked == \"1\" ? \"1\" : \"0\";\n      }\n      this.$http.post(\"/cartEdit\", {\n          productId: item.productId,\n          productNum: item.productNum,\n          checked: item.checked\n        })\n        .then(response => {\n          let res = response.data;\n          console.log(res)\n        });\n        \n    },\n    checkall() {\n      console.log(event.target.checked);\n      this.list.forEach(item => {\n        item.checked = event.target.checked;\n      });\n    },\n    async del(i, id) {\n      const res = await this.$http.delete(\"/cartDel/\"+id);\n      console.log(res);\n      this.reload();\n    }\n  },\n  computed: {\n    totalMoney() {\n      let allmoney = 0;\n      // let isAllCheck = true;\n      for (let i in this.list) {\n        if (this.list[i].checked) {\n\n          allmoney += this.list[i].productNum * this.list[i].salePrice;\n        } else {\n          // isAllCheck = false;\n        }\n      }\n      // this.allcheck == isAllCheck;\n      return allmoney;\n    },\n    ...mapGetters({\n      // 调用getters拿数据,拿到的是express中的data\n      cartinfo: \"GETCART\"\n    })\n  },\n  created() {\n    // this._initPageData()\n    // 发送存数据指令调用actions里的方法，如果没哟这步，是获取不到数据的\n    // 'INITCART'是actions里的[INITCART]的实例\n    // store是main.js里定义的实例化的vuex\n    this.$store.dispatch(\"INITCART\");\n    this.getproduct()\n    \n  },\n  }\n\n</script>\n\n<style>\nli {\n  list-style: none;\n}\n</style>"],"sourceRoot":"src/components"}]}