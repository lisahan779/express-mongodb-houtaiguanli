{"remainingRequest":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/babel-loader/lib/index.js!/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lisa/Desktop/study/mongodb+express/my-project/src/components/imgupload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/src/components/imgupload.vue","mtime":1587975223234},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBRUkNvZGUgZnJvbSAicXJjb2RlanMyIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtSW5saW5lOiB7CiAgICAgICAgaW1nOiAiIgogICAgICB9LAogICAgICBmbGFnZTogZmFsc2UsCiAgICAgIGJhc2U2NDogIiIKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5xcmNvZGUoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVwbG9hZFBob3RvOiBmdW5jdGlvbiB1cGxvYWRQaG90byhlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyDliKnnlKhmaWxlUmVhZGVy5a+56LGh6I635Y+WZmlsZQogICAgICB2YXIgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICB2YXIgZmlsZXNpemUgPSBmaWxlLnNpemU7CiAgICAgIHZhciBmaWxlbmFtZSA9IGZpbGUubmFtZTsKICAgICAgY29uc29sZS5sb2coZmlsZW5hbWUpOyAvLyAyLDYyMSw0NDAgICAyTQoKICAgICAgaWYgKGZpbGVzaXplID4gMjEwMTQ0MCkgey8vIOWbvueJh+Wkp+S6jjJNQgogICAgICB9CgogICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CgogICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAvLyDor7vlj5bliLDnmoTlm77niYdiYXNlNjQg5pWw5o2u57yW56CBIOWwhuatpOe8lueggeWtl+espuS4suS8oOe7meWQjuWPsOWNs+WPrwogICAgICAgIHZhciBpbWdjb2RlID0gZS50YXJnZXQucmVzdWx0OyAvLyBsZXQgdGhhdD10aGlzOwoKICAgICAgICBfdGhpcy5mb3JtSW5saW5lLmltZyA9IGltZ2NvZGU7IC8vIGNvbnNvbGUubG9nKDExMSxpbWdjb2RlKTsKCiAgICAgICAgX3RoaXMuJGh0dHAucG9zdCgiL3VwbG9hZHMvdHJhbnNmZXIiLCB7CiAgICAgICAgICBmaWxlbmFtZTogZmlsZW5hbWUsCiAgICAgICAgICBmaWxlc2l6ZTogZmlsZXNpemUsCiAgICAgICAgICBiYXNlNjQ6IGltZ2NvZGUKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzLmJhc2U2NCA9IHJlcy5kYXRhLmJhc2U2NDsgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpCgogICAgICAgICAgX3RoaXMuZmxhZ2UgPSB0cnVlOyAvLyBjb25zb2xlLmxvZygi5Zu+54mH5LiK5Lyg5oiQ5Yqf77yBIik7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9LAogICAgLy8g5LqM57u056CBCiAgICBxcmNvZGU6IGZ1bmN0aW9uIHFyY29kZSgpIHsKICAgICAgdmFyIHFyY29kZSA9IG5ldyBRUkNvZGUoInFyY29kZSIsIHsKICAgICAgICB3aWR0aDogMTAwLAogICAgICAgIGhlaWdodDogMTAwLAogICAgICAgIC8vIOmrmOW6pgogICAgICAgIHRleHQ6ICI1NjY2MzE1OSIsCiAgICAgICAgLy8g5LqM57u056CB5YaF5a65CiAgICAgICAgY29sb3JEYXJrOiAiI2YwZiIsCiAgICAgICAgLy/liY3mma/oibIKICAgICAgICBjb2xvckxpZ2h0OiAiI2ZmMCIsCiAgICAgICAgLy/og4zmma/oibIKICAgICAgICBjb3JyZWN0TGV2ZWw6IFFSQ29kZS5Db3JyZWN0TGV2ZWwuTCAvL+WuuemUmeetiee6pwoKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKHFyY29kZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["imgupload.vue"],"names":[],"mappings":";;;;;;;;;;AAUA,OAAA,MAAA,MAAA,WAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AACA,QAAA,GAAA,EAAA;AADA,OADA;AAIA,MAAA,KAAA,EAAA,KAJA;AAKA,MAAA,MAAA,EAAA;AALA,KAAA;AAOA,GATA;AAUA,EAAA,OAVA,qBAUA;AACA,SAAA,MAAA;AACA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,CADA,EACA;AAAA;;AACA;AACA,UAAA,IAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,QAAA,GAAA,IAAA,CAAA,IAAA;AACA,UAAA,QAAA,GAAA,IAAA,CAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EALA,CAMA;;AACA,UAAA,QAAA,GAAA,OAAA,EAAA,CACA;AACA;;AACA,UAAA,MAAA,GAAA,IAAA,UAAA,EAAA;AACA,MAAA,MAAA,CAAA,aAAA,CAAA,IAAA;;AACA,MAAA,MAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA;AACA;AACA,YAAA,OAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA,CAFA,CAGA;;AACA,QAAA,KAAA,CAAA,UAAA,CAAA,GAAA,GAAA,OAAA,CAJA,CAKA;;AACA,QAAA,KAAA,CAAA,KAAA,CACA,IADA,CACA,mBADA,EACA;AACA,UAAA,QAAA,EAAA,QADA;AAEA,UAAA,QAAA,EAAA,QAFA;AAGA,UAAA,MAAA,EAAA;AAHA,SADA,EAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CADA,CAEA;;AACA,UAAA,KAAA,CAAA,KAAA,GAAA,IAAA,CAHA,CAIA;AACA,SAXA;AAYA,OAlBA;AAmBA,KAhCA;AAiCA;AACA,IAAA,MAlCA,oBAkCA;AACA,UAAA,MAAA,GAAA,IAAA,MAAA,CAAA,QAAA,EAAA;AACA,QAAA,KAAA,EAAA,GADA;AAEA,QAAA,MAAA,EAAA,GAFA;AAEA;AACA,QAAA,IAAA,EAAA,UAHA;AAGA;AACA,QAAA,SAAA,EAAA,MAJA;AAIA;AACA,QAAA,UAAA,EAAA,MALA;AAKA;AACA,QAAA,YAAA,EAAA,MAAA,CAAA,YAAA,CAAA,CANA,CAMA;;AANA,OAAA,CAAA;AAQA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA;AA5CA;AAbA,CAAA","sourcesContent":["<template>\n  <div class=\"power\">\n    <input @change=\"uploadPhoto($event)\" type=\"file\" class=\"kyc-passin\" />\n    <img v-if=\"flage\" :src=\"base64\" alt=\"上传图片\" style=\"width:400px;height:400px \" />\n    <!-- // 这种可以打开相机或文件，\"jpg,png,gif\"这种打开只能上传特定文件且没有相机 -->\n    <div id=\"qrcode\">二维码位置</div>\n  </div>\n</template>\n\n<script>\nimport QRCode from \"qrcodejs2\";\nexport default {\n  data() {\n    return {\n      formInline: {\n        img: \"\"\n      },\n      flage: false,\n      base64: \"\"\n    };\n  },\n  mounted() {\n    this.qrcode();\n  },\n  methods: {\n    uploadPhoto(e) {\n      // 利用fileReader对象获取file\n      var file = e.target.files[0];\n      var filesize = file.size;\n      var filename = file.name;\n      console.log(filename);\n      // 2,621,440   2M\n      if (filesize > 2101440) {\n        // 图片大于2MB\n      }\n      var reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = e => {\n        // 读取到的图片base64 数据编码 将此编码字符串传给后台即可\n        var imgcode = e.target.result;\n        // let that=this;\n        this.formInline.img = imgcode;\n        // console.log(111,imgcode);\n        this.$http\n          .post(\"/uploads/transfer\", {\n            filename: filename,\n            filesize: filesize,\n            base64: imgcode\n          })\n          .then(res => {\n            this.base64 = res.data.base64;\n            // console.log(res.data)\n            this.flage = true;\n            // console.log(\"图片上传成功！\");\n          });\n      };\n    },\n// 二维码\n    qrcode() {\n      let qrcode = new QRCode(\"qrcode\", {\n        width: 100,\n        height: 100, // 高度\n        text: \"56663159\", // 二维码内容\n        colorDark: \"#f0f\", //前景色\n        colorLight: \"#ff0\", //背景色\n        correctLevel: QRCode.CorrectLevel.L //容错等级\n      });\n      console.log(qrcode);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.one {\n  width: 3rem;\n  height: 3rem;\n}\n.one img {\n  width: 3rem;\n  height: 3rem;\n}\n</style>\n"],"sourceRoot":"src/components"}]}