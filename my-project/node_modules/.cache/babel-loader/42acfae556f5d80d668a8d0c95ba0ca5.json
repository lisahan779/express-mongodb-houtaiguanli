{"remainingRequest":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/babel-loader/lib/index.js!/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lisa/Desktop/study/mongodb+express/my-project/src/components/edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/src/components/edit.vue","mtime":1587966167396},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBBbHRlciBmcm9tICIuL2FsdGVyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJlZGl0IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VzdG9tZXJzOiBbXSwKICAgICAgYWx0ZXI6ICIiLAogICAgICBmbGFnZTogZmFsc2UsCiAgICAgIGNsYXNzczogImFsZXJ0IGFsZXJ0LXdhcm5pbmcgYWxlcnQtZGlzbWlzc2libGUiCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgQWx0ZXI6IEFsdGVyCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5blr7nlupRpZOaVsOaNruWcqOmhtemdouWxleekugogICAgZmV0Y2hjdXN0b21lcnM6IGZ1bmN0aW9uIGZldGNoY3VzdG9tZXJzKGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRodHRwLmdldCgiL2dldHVzZXJzLyIgKyBpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuY3VzdG9tZXJzID0gcmVzLmRhdGE7IC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5pu05paw5pWw5o2uCiAgICB1cGRhdGVDdXN0b21lcnM6IGZ1bmN0aW9uIHVwZGF0ZUN1c3RvbWVycyhlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8g6Zi75q2i6buY6K6kc3VibWl05oyJ6ZKu5LqL5Lu2CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKCiAgICAgIGlmICghdGhpcy5jdXN0b21lcnMubmFtZSB8fCAhdGhpcy5jdXN0b21lcnMucGhvbmUgfHwgIXRoaXMuY3VzdG9tZXJzLmVtYWlsKSB7CiAgICAgICAgdGhpcy5mbGFnZSA9IHRydWU7CiAgICAgICAgdGhpcy5hbHRlciA9ICLor7floavlhpnlr7nlupTnmoTkv6Hmga8iOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByZWduYW1lID0gL15bXHU0RTAwLVx1OUZBNVx1ZjkwMC1cdWZhMmTCt3NdezIsMjB9JC87CgogICAgICAgIGlmICghcmVnbmFtZS50ZXN0KHRoaXMuY3VzdG9tZXJzLm5hbWUpKSB7CiAgICAgICAgICB0aGlzLmFsdGVyID0gIuWnk+WQjeagvOW8j+S4jeato+ehriI7CiAgICAgICAgICB0aGlzLmZsYWdlID0gdHJ1ZTsgLy8gcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgbXlyZWcgPSAvXjA/KDEzWzAtOV18MTRbNS05XXwxNVswMTIzNTY3ODldfDE2NnwxN1swLThdfDE4WzAtOV18MTlbOC05XSlbMC05XXs4fSQvOyAvLyDovpPlhaXmiYvmnLrlj7fkuI3lkIjpgIIKCiAgICAgICAgICBpZiAoIW15cmVnLnRlc3QodGhpcy5jdXN0b21lcnMucGhvbmUpKSB7CiAgICAgICAgICAgIHRoaXMuZmxhZ2UgPSB0cnVlOwogICAgICAgICAgICB0aGlzLmFsdGVyID0gIuaJi+acuuWPt+eggeagvOW8j+S4jeato+ehriI7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciByZWdlbWFpbCA9IC9eWzAtOWEtekEtWi5fLV0rW0BdWzAtOWEtekEtWi5fLV0rKFsuXVthLXpBLVpdKyl7MSwyfSQvOwoKICAgICAgICAgICAgaWYgKCFyZWdlbWFpbC50ZXN0KHRoaXMuY3VzdG9tZXJzLmVtYWlsKSkgewogICAgICAgICAgICAgIHRoaXMuZmxhZ2UgPSB0cnVlOwogICAgICAgICAgICAgIHRoaXMuYWx0ZXIgPSAi6YKu566x5qC85byP5LiN5q2j56GuIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyAg5a6a5LmJ5a+56LGhLAogICAgICAgICAgICAgIHZhciBuZXd1cGRhdGUgPSB7CiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLmN1c3RvbWVycy5uYW1lLAogICAgICAgICAgICAgICAgcGhvbmU6IHRoaXMuY3VzdG9tZXJzLnBob25lLAogICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuY3VzdG9tZXJzLmVtYWlsLAogICAgICAgICAgICAgICAgZWR1Y2F0aW9uOiB0aGlzLmN1c3RvbWVycy5lZHVjYXRpb24sCiAgICAgICAgICAgICAgICBncmFkdWF0aW9uc2Nob29sOiB0aGlzLmN1c3RvbWVycy5ncmFkdWF0aW9uc2Nob29sLAogICAgICAgICAgICAgICAgam9iOiB0aGlzLmN1c3RvbWVycy5qb2IsCiAgICAgICAgICAgICAgICBwcm9maWxlOiB0aGlzLmN1c3RvbWVycy5wcm9maWxlCiAgICAgICAgICAgICAgfTsgLy8gIOiOt+WPluimgeabtOaWsOeahOmCo+adoeaVsOaNruWvueW6lOeahGlkLOabtOaWsOaVsOaNruWPkemAgXB1dOivt+axggoKICAgICAgICAgICAgICB0aGlzLiRodHRwLnB1dCgiL2dldHVzZXJzL3VwZGF0ZS8iICsgdGhpcy4kcm91dGUucGFyYW1zLmlkLCBuZXd1cGRhdGUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogImN1c3RvbWVycyIsCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICAgICAgYWx0ZXI6ICLnlKjmiLfkv6Hmga/mm7TmlrDmiJDlip8iLAogICAgICAgICAgICAgICAgICAgIGNsYXNzczogImFsZXJ0IGFsZXJ0LXN1Y2Nlc3MgYWxlcnQtZGlzbWlzc2libGUiCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICAvLyDmqKHmnb/ooqvliJvlu7rmi7/liLBpZAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoY3VzdG9tZXJzKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCk7CiAgICBjb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogIH0KfTs="},{"version":3,"sources":["edit.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"add container\">\n    <Alter v-show=\"flage\" :message=\"alter\" :class=\"classs\" ></Alter>\n    <h1 class=\"page-head\">编辑用户</h1>\n    <form @submit=\"updateCustomers\">\n      <div class=\"well\">\n        <h4>用户信息</h4>\n        <div class=\"form-group\">\n          <label for>姓名</label>\n          <br />\n          <input type=\"text\" class=\"form-control\" placeholder=\"name\" v-model=\"customers.name\" />\n          <br />\n          <label for>电话</label>\n          <br />\n          <input type=\"text\" class=\"form-control\" placeholder=\"phone\" v-model=\"customers.phone\" />\n          <br />\n          <label for>邮箱</label>\n          <br />\n          <input type=\"text\" class=\"form-control\" placeholder=\"email\" v-model=\"customers.email\" />\n          <br />\n          <label for>学历</label>\n          <br />\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            placeholder=\"education\"\n            v-model=\"customers.education\"\n          />\n          <br />\n          <label for>毕业学校</label>\n          <br />\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            placeholder=\"graduationschool\"\n            v-model=\"customers.graduationschool\"\n          />\n          <br />\n          <label for>职业</label>\n          <br />\n          <input type=\"text\" class=\"form-control\" placeholder=\"job\" v-model=\"customers.job\" />\n          <br />\n          <label for>个人简介</label>\n          <br />\n          <textarea name=\"profile\" class=\"form-control\" rows=\"10\" v-model=\"customers.profile\"></textarea>\n        </div>\n      </div>\n      <!-- 如果这个按钮是submit就会触发系统的方法，如果在form中绑定submit 触发的就是自己写的方法 -->\n      <button type=\"submit\" class=\"btn btn-primary\">修改</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport Alter from \"./alter\";\nexport default {\n  name: \"edit\",\n  data() {\n    return {\n      customers: [],\n      alter: \"\",\n      flage:false,\n      classs: \"alert alert-warning alert-dismissible\"\n    };\n  },\n  components: {\n    Alter\n  },\n  methods: {\n    // 获取对应id数据在页面展示\n    fetchcustomers(id) {\n      this.$http.get(\"/getusers/\" + id).then(res => {\n        this.customers = res.data;\n        // console.log(res.data);\n      });\n    },\n    // 更新数据\n    updateCustomers(e) {\n      // 阻止默认submit按钮事件\n      e.preventDefault();\n      if (\n        !this.customers.name ||\n        !this.customers.phone ||\n        !this.customers.email\n      ) {\n        this.flage=true\n        this.alter = \"请填写对应的信息\"\n      } else {\n        var regname = /^[\\u4E00-\\u9FA5\\uf900-\\ufa2d·s]{2,20}$/;\n        if (!regname.test(this.customers.name)) {\n          this.alter = \"姓名格式不正确\";\n          this.flage=true\n          // return;\n        } else {\n          var myreg = /^0?(13[0-9]|14[5-9]|15[012356789]|166|17[0-8]|18[0-9]|19[8-9])[0-9]{8}$/;\n          // 输入手机号不合适\n          if (!myreg.test(this.customers.phone)) {\n             this.flage=true\n            this.alter = \"手机号码格式不正确\";\n            return;\n          } else {\n            const regemail = /^[0-9a-zA-Z._-]+[@][0-9a-zA-Z._-]+([.][a-zA-Z]+){1,2}$/;\n            if (!regemail.test(this.customers.email)) {\n              this.flage=true\n             this.alter = \"邮箱格式不正确\";\n            } else {\n              //  定义对象,\n              let newupdate = {\n                name: this.customers.name,\n                phone: this.customers.phone,\n                email: this.customers.email,\n                education: this.customers.education,\n                graduationschool: this.customers.graduationschool,\n                job: this.customers.job,\n                profile: this.customers.profile\n              };\n              //  获取要更新的那条数据对应的id,更新数据发送put请求\n              this.$http\n                .put(\n                  \"/getusers/update/\" + this.$route.params.id,\n                  newupdate\n                )\n                .then(res => {\n                  console.log(res);\n                  this.$router.push({\n                    name: \"customers\",\n                    query: {\n                      alter: \"用户信息更新成功\",\n                      classs: \"alert alert-success alert-dismissible\"\n                    }\n                  });\n                });\n             }\n           }\n         }\n       }\n     }\n   },\n  // 模板被创建拿到id\n  created() {\n    this.fetchcustomers(this.$route.params.id);\n    console.log(this.$route.params.id);\n  }\n};\n</script>\n\n<style>\n</style>"],"sourceRoot":"src/components"}]}