{"remainingRequest":"/Users/lisa/Desktop/all/my-project/node_modules/babel-loader/lib/index.js!/Users/lisa/Desktop/all/my-project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lisa/Desktop/all/my-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lisa/Desktop/all/my-project/src/components/edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lisa/Desktop/all/my-project/src/components/edit.vue","mtime":1584264844302},{"path":"/Users/lisa/Desktop/all/my-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/all/my-project/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/all/my-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/all/my-project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBBbHRlciBmcm9tICIuL2FsdGVyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJlZGl0IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VzdG9tZXJzOiBbXSwKICAgICAgYWx0ZXI6ICIiLAogICAgICBmbGFnZTogZmFsc2UsCiAgICAgIGNsYXNzczogImFsZXJ0IGFsZXJ0LXdhcm5pbmcgYWxlcnQtZGlzbWlzc2libGUiCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgQWx0ZXI6IEFsdGVyCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5blr7nlupRpZOaVsOaNruWcqOmhtemdouWxleekugogICAgZmV0Y2hjdXN0b21lcnM6IGZ1bmN0aW9uIGZldGNoY3VzdG9tZXJzKGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRodHRwLmdldCgiL2dldHVzZXJzLyIgKyBpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuY3VzdG9tZXJzID0gcmVzLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmm7TmlrDmlbDmja4KICAgIHVwZGF0ZUN1c3RvbWVyczogZnVuY3Rpb24gdXBkYXRlQ3VzdG9tZXJzKGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyDpmLvmraLpu5jorqRzdWJtaXTmjInpkq7kuovku7YKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgaWYgKCF0aGlzLmN1c3RvbWVycy5uYW1lIHx8ICF0aGlzLmN1c3RvbWVycy5waG9uZSB8fCAhdGhpcy5jdXN0b21lcnMuZW1haWwpIHsKICAgICAgICB0aGlzLmZsYWdlID0gdHJ1ZTsKICAgICAgICB0aGlzLmFsdGVyID0gIuivt+Whq+WGmeWvueW6lOeahOS/oeaBryI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHJlZ25hbWUgPSAvXltcdTRFMDAtXHU5RkE1XHVmOTAwLVx1ZmEyZMK3c117MiwyMH0kLzsKCiAgICAgICAgaWYgKCFyZWduYW1lLnRlc3QodGhpcy5jdXN0b21lcnMubmFtZSkpIHsKICAgICAgICAgIHRoaXMuYWx0ZXIgPSAi5aeT5ZCN5qC85byP5LiN5q2j56GuIjsKICAgICAgICAgIHRoaXMuZmxhZ2UgPSB0cnVlOyAvLyByZXR1cm47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBteXJlZyA9IC9eMD8oMTNbMC05XXwxNFs1LTldfDE1WzAxMjM1Njc4OV18MTY2fDE3WzAtOF18MThbMC05XXwxOVs4LTldKVswLTldezh9JC87IC8vIOi+k+WFpeaJi+acuuWPt+S4jeWQiOmAggoKICAgICAgICAgIGlmICghbXlyZWcudGVzdCh0aGlzLmN1c3RvbWVycy5waG9uZSkpIHsKICAgICAgICAgICAgdGhpcy5mbGFnZSA9IHRydWU7CiAgICAgICAgICAgIHRoaXMuYWx0ZXIgPSAi5omL5py65Y+356CB5qC85byP5LiN5q2j56GuIjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIHJlZ2VtYWlsID0gL15bMC05YS16QS1aLl8tXStbQF1bMC05YS16QS1aLl8tXSsoWy5dW2EtekEtWl0rKXsxLDJ9JC87CgogICAgICAgICAgICBpZiAoIXJlZ2VtYWlsLnRlc3QodGhpcy5jdXN0b21lcnMuZW1haWwpKSB7CiAgICAgICAgICAgICAgdGhpcy5mbGFnZSA9IHRydWU7CiAgICAgICAgICAgICAgdGhpcy5hbHRlciA9ICLpgq7nrrHmoLzlvI/kuI3mraPnoa4iOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vICDlrprkuYnlr7nosaEsCiAgICAgICAgICAgICAgdmFyIG5ld3VwZGF0ZSA9IHsKICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuY3VzdG9tZXJzLm5hbWUsCiAgICAgICAgICAgICAgICBwaG9uZTogdGhpcy5jdXN0b21lcnMucGhvbmUsCiAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy5jdXN0b21lcnMuZW1haWwsCiAgICAgICAgICAgICAgICBlZHVjYXRpb246IHRoaXMuY3VzdG9tZXJzLmVkdWNhdGlvbiwKICAgICAgICAgICAgICAgIGdyYWR1YXRpb25zY2hvb2w6IHRoaXMuY3VzdG9tZXJzLmdyYWR1YXRpb25zY2hvb2wsCiAgICAgICAgICAgICAgICBqb2I6IHRoaXMuY3VzdG9tZXJzLmpvYiwKICAgICAgICAgICAgICAgIHByb2ZpbGU6IHRoaXMuY3VzdG9tZXJzLnByb2ZpbGUKICAgICAgICAgICAgICB9OyAvLyAg6I635Y+W6KaB5pu05paw55qE6YKj5p2h5pWw5o2u5a+55bqU55qEaWQs5pu05paw5pWw5o2u5Y+R6YCBcHV06K+35rGCCgogICAgICAgICAgICAgIHRoaXMuJGh0dHAucHV0KCIvZ2V0dXNlcnMvdXBkYXRlLyIgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsIG5ld3VwZGF0ZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAiY3VzdG9tZXJzIiwKICAgICAgICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICAgICAgICBhbHRlcjogIueUqOaIt+S/oeaBr+abtOaWsOaIkOWKnyIsCiAgICAgICAgICAgICAgICAgICAgY2xhc3NzOiAiYWxlcnQgYWxlcnQtc3VjY2VzcyBhbGVydC1kaXNtaXNzaWJsZSIKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIC8vIOaooeadv+iiq+WIm+W7uuaLv+WIsGlkCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hjdXN0b21lcnModGhpcy4kcm91dGUucGFyYW1zLmlkKTsKICAgIGNvbnNvbGUubG9nKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCk7CiAgfQp9Ow=="},{"version":3,"sources":["edit.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"add container\">\n    <Alter v-show=\"flage\" :message=\"alter\" :class=\"classs\" ></Alter>\n    <h1 class=\"page-head\">编辑用户</h1>\n    <form @submit=\"updateCustomers\">\n      <div class=\"well\">\n        <h4>用户信息</h4>\n        <div class=\"form-group\">\n          <label for>姓名</label>\n          <br />\n          <input type=\"text\" class=\"form-control\" placeholder=\"name\" v-model=\"customers.name\" />\n          <br />\n          <label for>电话</label>\n          <br />\n          <input type=\"text\" class=\"form-control\" placeholder=\"phone\" v-model=\"customers.phone\" />\n          <br />\n          <label for>邮箱</label>\n          <br />\n          <input type=\"text\" class=\"form-control\" placeholder=\"email\" v-model=\"customers.email\" />\n          <br />\n          <label for>学历</label>\n          <br />\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            placeholder=\"education\"\n            v-model=\"customers.education\"\n          />\n          <br />\n          <label for>毕业学校</label>\n          <br />\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            placeholder=\"graduationschool\"\n            v-model=\"customers.graduationschool\"\n          />\n          <br />\n          <label for>职业</label>\n          <br />\n          <input type=\"text\" class=\"form-control\" placeholder=\"job\" v-model=\"customers.job\" />\n          <br />\n          <label for>个人简介</label>\n          <br />\n          <textarea name=\"profile\" class=\"form-control\" rows=\"10\" v-model=\"customers.profile\"></textarea>\n        </div>\n      </div>\n      <!-- 如果这个按钮是submit就会触发系统的方法，如果在form中绑定submit 触发的就是自己写的方法 -->\n      <button type=\"submit\" class=\"btn btn-primary\">修改</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport Alter from \"./alter\";\nexport default {\n  name: \"edit\",\n  data() {\n    return {\n      customers: [],\n      alter: \"\",\n      flage:false,\n      classs: \"alert alert-warning alert-dismissible\"\n    };\n  },\n  components: {\n    Alter\n  },\n  methods: {\n    // 获取对应id数据在页面展示\n    fetchcustomers(id) {\n      this.$http.get(\"/getusers/\" + id).then(res => {\n        this.customers = res.data;\n        console.log(res.data);\n      });\n    },\n    // 更新数据\n    updateCustomers(e) {\n      // 阻止默认submit按钮事件\n      e.preventDefault();\n      if (\n        !this.customers.name ||\n        !this.customers.phone ||\n        !this.customers.email\n      ) {\n        this.flage=true\n        this.alter = \"请填写对应的信息\"\n      } else {\n        var regname = /^[\\u4E00-\\u9FA5\\uf900-\\ufa2d·s]{2,20}$/;\n        if (!regname.test(this.customers.name)) {\n          this.alter = \"姓名格式不正确\";\n          this.flage=true\n          // return;\n        } else {\n          var myreg = /^0?(13[0-9]|14[5-9]|15[012356789]|166|17[0-8]|18[0-9]|19[8-9])[0-9]{8}$/;\n          // 输入手机号不合适\n          if (!myreg.test(this.customers.phone)) {\n             this.flage=true\n            this.alter = \"手机号码格式不正确\";\n            return;\n          } else {\n            const regemail = /^[0-9a-zA-Z._-]+[@][0-9a-zA-Z._-]+([.][a-zA-Z]+){1,2}$/;\n            if (!regemail.test(this.customers.email)) {\n              this.flage=true\n             this.alter = \"邮箱格式不正确\";\n            } else {\n              //  定义对象,\n              let newupdate = {\n                name: this.customers.name,\n                phone: this.customers.phone,\n                email: this.customers.email,\n                education: this.customers.education,\n                graduationschool: this.customers.graduationschool,\n                job: this.customers.job,\n                profile: this.customers.profile\n              };\n              //  获取要更新的那条数据对应的id,更新数据发送put请求\n              this.$http\n                .put(\n                  \"/getusers/update/\" + this.$route.params.id,\n                  newupdate\n                )\n                .then(res => {\n                  console.log(res);\n                  this.$router.push({\n                    name: \"customers\",\n                    query: {\n                      alter: \"用户信息更新成功\",\n                      classs: \"alert alert-success alert-dismissible\"\n                    }\n                  });\n                });\n             }\n           }\n         }\n       }\n     }\n   },\n  // 模板被创建拿到id\n  created() {\n    this.fetchcustomers(this.$route.params.id);\n    console.log(this.$route.params.id);\n  }\n};\n</script>\n\n<style>\n</style>"],"sourceRoot":"src/components"}]}