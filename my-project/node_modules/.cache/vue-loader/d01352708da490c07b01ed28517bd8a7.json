{"remainingRequest":"/Users/lisa/Desktop/all/my-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lisa/Desktop/all/my-project/src/components/add.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lisa/Desktop/all/my-project/src/components/add.vue","mtime":1584266619367},{"path":"/Users/lisa/Desktop/all/my-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/all/my-project/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/all/my-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/all/my-project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBbHRlciBmcm9tICIuL2FsdGVyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhZGQiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXN0b21lcnM6IFtdLAogICAgICBhbHRlcjogIiIsCiAgICAgIGZsYWdlOmZhbHNlLAogICAgICBjbGFzc3M6ICJhbGVydCBhbGVydC1kYW5nZXIgYWxlcnQtZGlzbWlzc2libGUiCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgQWx0ZXIKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZGN1c3RvbWVycyhlKSB7CiAgICAgIC8vIOmYu+atoum7mOiupHN1Ym1pdOaMiemSruS6i+S7tgogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGlmICgKICAgICAgICAhdGhpcy5jdXN0b21lcnMubmFtZSB8fAogICAgICAgICF0aGlzLmN1c3RvbWVycy5waG9uZSB8fAogICAgICAgICF0aGlzLmN1c3RvbWVycy5lbWFpbAogICAgICApIHsKICAgICAgICB0aGlzLmFsdGVyID0gIuivt+Whq+WGmeWujOaVtOeahOS/oeaBryIsCiAgICAgICAgICB0aGlzLmZsYWdlPXRydWUKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgcmVnbmFtZSA9IC9eW1x1NEUwMC1cdTlGQTVcdWY5MDAtXHVmYTJkwrdzXXsyLDIwfSQvOwogICAgICAgIGlmICghcmVnbmFtZS50ZXN0KHRoaXMuY3VzdG9tZXJzLm5hbWUpKSB7CiAgICAgICAgICB0aGlzLmFsdGVyID0gIuWnk+WQjeagvOW8j+S4jeato+ehriI7CiAgICAgICAgICB0aGlzLmZsYWdlPXRydWUKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIG15cmVnID0gL14wPygxM1swLTldfDE0WzUtOV18MTVbMDEyMzU2Nzg5XXwxNjZ8MTdbMC04XXwxOFswLTldfDE5WzgtOV0pWzAtOV17OH0kLzsKICAgICAgICAgIC8vIOi+k+WFpeaJi+acuuWPt+S4jeWQiOmAggogICAgICAgICAgaWYgKCFteXJlZy50ZXN0KHRoaXMuY3VzdG9tZXJzLnBob25lKSkgewogICAgICAgICAgICB0aGlzLmFsdGVyID0gIuaJi+acuuWPt+eggeagvOW8j+S4jeato+ehriI7CiAgICAgICAgICAgIHRoaXMuZmxhZ2U9dHJ1ZQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zdCByZWdlbWFpbCA9IC9eWzAtOWEtekEtWi5fLV0rW0BdWzAtOWEtekEtWi5fLV0rKFsuXVthLXpBLVpdKyl7MSwyfSQvOwogICAgICAgICAgICBpZiAoIXJlZ2VtYWlsLnRlc3QodGhpcy5jdXN0b21lcnMuZW1haWwpKSB7CiAgICAgICAgICAgICAgdGhpcy5hbHRlciA9ICLpgq7nrrHmoLzlvI/kuI3mraPnoa4iOwogICAgICAgICAgICAgIHRoaXMuZmxhZ2U9dHJ1ZQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vICDlrprkuYnlr7nosaEKICAgICAgICAgICAgICBsZXQgbmV3Q3VzdG9tZXJzID0gewogICAgICAgICAgICAgICAgbmFtZTogdGhpcy5jdXN0b21lcnMubmFtZSwKICAgICAgICAgICAgICAgIHBob25lOiB0aGlzLmN1c3RvbWVycy5waG9uZSwKICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLmN1c3RvbWVycy5lbWFpbCwKICAgICAgICAgICAgICAgIGVkdWNhdGlvbjogdGhpcy5jdXN0b21lcnMuZWR1Y2F0aW9uLAogICAgICAgICAgICAgICAgZ3JhZHVhdGlvbnNjaG9vbDogdGhpcy5jdXN0b21lcnMuZ3JhZHVhdGlvbnNjaG9vbCwKICAgICAgICAgICAgICAgIGpvYjogdGhpcy5jdXN0b21lcnMuam9iLAogICAgICAgICAgICAgICAgcHJvZmlsZTogdGhpcy5jdXN0b21lcnMucHJvZmlsZQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgLy8gIOWwhuaVsOaNruWPkemAgeWIsOWQjuerrwogICAgICAgICAgICAgIHRoaXMuJGh0dHAKICAgICAgICAgICAgICAgIC5wb3N0KCIvYXBpL3VzZXJzIiwgbmV3Q3VzdG9tZXJzKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgICAgLy8gcXVlcnkg5bCG5Zyw5Z2A5qCP55qE5L+h5oGv5Lyg57uZYWx0ZXLnu4Tku7blsZXnpLoKICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjdXN0b21lcnMiLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICAgICAgICBhbHRlcjogIueUqOaIt+S/oeaBr+a3u+WKoOaIkOWKnyIsCiAgICAgICAgICAgICAgICAgICAgICBjbGFzc3M6ICJhbGVydCBhbGVydC1zdWNjZXNzIGFsZXJ0LWRpc21pc3NpYmxlIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCLmt7vliqDnlKjmiLfpobXpnaIiKTsKICB9Cn07Cg=="},{"version":3,"sources":["add.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"add.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"add container\">\n    <!-- 弹出框 -->\n    <Alter v-show=\"flage\" :message=\"alter\" :class=\"classs\"></Alter>\n    <h1 class=\"page-head\">添加用户</h1>\n    <form @submit=\"addcustomers\">\n      <div class=\"well\">\n        <h4>用户信息</h4>\n        <div class=\"form-group\">\n          <label for>姓名</label>\n          <br />\n          <input type=\"text\" class=\"form-control\" placeholder=\"name\" v-model=\"customers.name\" />\n          <br />\n          <label for>电话</label>\n          <br />\n          <input type=\"text\" class=\"form-control\" placeholder=\"phone\" v-model=\"customers.phone\" />\n          <br />\n          <label for>邮箱</label>\n          <br />\n          <input type=\"text\" class=\"form-control\" placeholder=\"email\" v-model=\"customers.email\" />\n          <br />\n          <label for>学历</label>\n          <br />\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            placeholder=\"education\"\n            v-model=\"customers.education\"\n          />\n          <br />\n          <label for>毕业学校</label>\n          <br />\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            placeholder=\"graduationschool\"\n            v-model=\"customers.graduationschool\"\n          />\n          <br />\n          <label for>职业</label>\n          <br />\n          <input type=\"text\" class=\"form-control\" placeholder=\"job\" v-model=\"customers.job\" />\n          <br />\n          <label for>个人简介</label>\n          <br />\n          <textarea name=\"profile\" class=\"form-control\" rows=\"10\" v-model=\"customers.profile\"></textarea>\n        </div>\n      </div>\n      <!-- 如果这个按钮是submit就会触发系统的方法，如果在form中绑定submit 触发的就是自己写的方法 -->\n      <button type=\"submit\" class=\"btn btn-primary\">添加</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport Alter from \"./alter\";\nexport default {\n  name: \"add\",\n  data() {\n    return {\n      customers: [],\n      alter: \"\",\n      flage:false,\n      classs: \"alert alert-danger alert-dismissible\"\n    };\n  },\n  components: {\n    Alter\n  },\n  methods: {\n    addcustomers(e) {\n      // 阻止默认submit按钮事件\n      e.preventDefault();\n      if (\n        !this.customers.name ||\n        !this.customers.phone ||\n        !this.customers.email\n      ) {\n        this.alter = \"请填写完整的信息\",\n          this.flage=true\n      } else {\n        var regname = /^[\\u4E00-\\u9FA5\\uf900-\\ufa2d·s]{2,20}$/;\n        if (!regname.test(this.customers.name)) {\n          this.alter = \"姓名格式不正确\";\n          this.flage=true\n          return;\n        } else {\n          var myreg = /^0?(13[0-9]|14[5-9]|15[012356789]|166|17[0-8]|18[0-9]|19[8-9])[0-9]{8}$/;\n          // 输入手机号不合适\n          if (!myreg.test(this.customers.phone)) {\n            this.alter = \"手机号码格式不正确\";\n            this.flage=true\n            return;\n          } else {\n            const regemail = /^[0-9a-zA-Z._-]+[@][0-9a-zA-Z._-]+([.][a-zA-Z]+){1,2}$/;\n            if (!regemail.test(this.customers.email)) {\n              this.alter = \"邮箱格式不正确\";\n              this.flage=true\n            } else {\n              //  定义对象\n              let newCustomers = {\n                name: this.customers.name,\n                phone: this.customers.phone,\n                email: this.customers.email,\n                education: this.customers.education,\n                graduationschool: this.customers.graduationschool,\n                job: this.customers.job,\n                profile: this.customers.profile\n              };\n              //  将数据发送到后端\n              this.$http\n                .post(\"/api/users\", newCustomers)\n                .then(res => {\n                  console.log(res);\n                  // query 将地址栏的信息传给alter组件展示\n                  this.$router.push({\n                    name: \"customers\",\n                    query: {\n                      alter: \"用户信息添加成功\",\n                      classs: \"alert alert-success alert-dismissible\"\n                    }\n                  });\n                });\n            }\n          }\n        }\n      }\n    }\n  },\n  created() {\n    console.log(\"添加用户页面\");\n  }\n};\n</script>\n\n<style>\n</style>"]}]}