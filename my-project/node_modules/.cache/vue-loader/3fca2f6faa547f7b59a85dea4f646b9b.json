{"remainingRequest":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lisa/Desktop/study/mongodb+express/my-project/src/components/page.vue?vue&type=style&index=0&id=0576cb1f&lang=scss&scoped=true&","dependencies":[{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/src/components/page.vue","mtime":1587869623693},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lisa/Desktop/study/mongodb+express/my-project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5tby1wYWdpbmcgewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgcGFkZGluZzogMDsKICAgIG1hcmdpbjogMXJlbSAwOwogICAgZm9udC1zaXplOiAwOwogICAgbGlzdC1zdHlsZTogbm9uZTsKICAgIHVzZXItc2VsZWN0OiBub25lOwogICAgPiAucGFnaW5nLWl0ZW0gewogICAgICAgIGRpc3BsYXk6IGlubGluZTsKICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIHBhZGRpbmc6IDZweCAxMnB4OwogICAgICAgIGxpbmUtaGVpZ2h0OiAxLjQyODU3MTQzOwogICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOwogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICAgICAgbWFyZ2luLWxlZnQ6IC0xcHg7CiAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgIGNvbG9yOiAjMDI3NWQ4OwogICAgICAgICY6Zmlyc3QtY2hpbGQgewogICAgICAgICAgICBtYXJnaW4tbGVmdDogMDsKICAgICAgICB9CiAgICAgICAgJjpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7CiAgICAgICAgICAgIGNvbG9yOiAjMDI3NWQ4OwogICAgICAgIH0KICAgICAgICAmLnBhZ2luZy1pdGVtLS1kaXNhYmxlZCwKICAgICAgICAmLnBhZ2luZy1pdGVtLS1tb3JlewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgICAgICAgICBjb2xvcjogIzUwNTA1MDsKICAgICAgICB9CiAgICAgICAgLy/npoHnlKgKICAgICAgICAmLnBhZ2luZy1pdGVtLS1kaXNhYmxlZCB7CiAgICAgICAgICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7CiAgICAgICAgICAgIG9wYWNpdHk6IC43NTsKICAgICAgICB9CiAgICAgICAgJi5wYWdpbmctaXRlbS0tbW9yZSwKICAgICAgICAmLnBhZ2luZy1pdGVtLS1jdXJyZW50IHsKICAgICAgICAgICAgY3Vyc29yOiBkZWZhdWx0OwogICAgICAgIH0KICAgICAgICAvL+mAieS4rQogICAgICAgICYucGFnaW5nLWl0ZW0tLWN1cnJlbnQgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDI3NWQ4OwogICAgICAgICAgICBjb2xvcjojZmZmOwogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgIHotaW5kZXg6IDE7CiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogIzAyNzVkODsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["page.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"page.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <ul class=\"mo-paging\">\n        <!-- prev -->\n        <li\n        :class=\"['paging-item', 'paging-item--prev', {'paging-item--disabled' : index === 1}]\"\n        @click=\"prev\">prev</li>\n        \n        <!-- first -->\n        <li\n        :class=\"['paging-item', 'paging-item--first', {'paging-item--disabled' : index === 1}]\"\n        @click=\"first\">first</li>\n        \n        <li\n        :class=\"['paging-item', 'paging-item--more']\"\n        v-if=\"showPrevMore\">...</li>\n\n        <li\n        :class=\"['paging-item', {'paging-item--current' : index === pager}]\"\n        v-for=\"pager in pagers\" :key=\"pager\"\n        @click=\"go(pager)\">{{ pager }}</li>\n\n        <li\n        :class=\"['paging-item', 'paging-item--more']\"\n        v-if=\"showNextMore\">...</li>\n        \n        <!-- last -->\n        <li\n        :class=\"['paging-item', 'paging-item--last', {'paging-item--disabled' : index === pages}]\"\n        @click=\"last\">last</li>\n\n        <!-- next -->\n        <li\n        :class=\"['paging-item', 'paging-item--next', {'paging-item--disabled' : index === pages}]\"\n        @click=\"next\">next</li>\n    </ul>\n</template>\n\n<script>\nexport default {\n    name : 'MoPaging',\n\n    //通过props来接受从父组件传递过来的值\n    props : {\n\n        //页面中的可见页码，其他的以...替代, 必须是奇数\n        perPages : { \n            type : Number,\n            default : 5 \n        },\n\n        //当前页码\n        pageIndex : {\n            type : Number,\n            default : 1\n        },\n\n        //每页显示条数\n        pageSize : {\n            type : Number,\n            default : 10\n        },\n\n        //总记录数\n        total : {\n            type : Number,\n            default : 1\n        },\n\n    },\n    methods : {\n        prev(){\n            if (this.index > 1) {\n                this.go(this.index - 1)\n            }\n        },\n        next(){\n            if (this.index < this.pages) {\n                this.go(this.index + 1)\n            }\n        },\n        first(){\n            if (this.index !== 1) {\n                this.go(1)\n            }\n        },\n        last(){\n            if (this.index != this.pages) {\n                this.go(this.pages)\n            }\n        },\n        go (page) {\n            if (this.index !== page) {\n                this.index = page\n                //父组件通过change方法来接受当前的页码\n                this.$emit('change', this.index)\n            }\n        }\n    },\n    computed : {\n\n        //计算总页码\n        pages(){\n            return Math.ceil(this.size / this.limit)\n        },\n\n        //计算页码，当count等变化时自动计算\n        pagers () {\n            const array = []\n            const perPages = this.perPages\n            const pageCount = this.pages\n            let current = this.index\n            const _offset = (perPages - 1) / 2\n\n            \n            const offset = {\n                start : current - _offset,\n                end   : current + _offset\n            }\n\n            //-1, 3\n            if (offset.start < 1) {\n                offset.end = offset.end + (1 - offset.start)\n                offset.start = 1\n            }\n            if (offset.end > pageCount) {\n                offset.start = offset.start - (offset.end - pageCount)\n                offset.end = pageCount\n            }\n            if (offset.start < 1) offset.start = 1\n\n            this.showPrevMore = (offset.start > 1)\n            this.showNextMore = (offset.end < pageCount)\n\n            for (let i = offset.start; i <= offset.end; i++) {\n                array.push(i)\n            }\n\n            return array\n        }\n    },\n    data () {\n        return {\n            index : this.pageIndex, //当前页码\n            limit : this.pageSize, //每页显示条数\n            size : this.total || 1, //总记录数\n            showPrevMore : false,\n            showNextMore : false\n        }\n    },\n    watch : {\n        pageIndex(val) {\n            this.index = val || 1\n        },\n        pageSize(val) {\n            this.limit = val || 10\n        },\n        total(val) {\n            this.size = val || 1\n        }\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n.mo-paging {\n    display: inline-block;\n    padding: 0;\n    margin: 1rem 0;\n    font-size: 0;\n    list-style: none;\n    user-select: none;\n    > .paging-item {\n        display: inline;\n        font-size: 14px;\n        position: relative;\n        padding: 6px 12px;\n        line-height: 1.42857143;\n        text-decoration: none;\n        border: 1px solid #ccc;\n        background-color: #fff;\n        margin-left: -1px;\n        cursor: pointer;\n        color: #0275d8;\n        &:first-child {\n            margin-left: 0;\n        }\n        &:hover {\n            background-color: #f0f0f0;\n            color: #0275d8;\n        }\n        &.paging-item--disabled,\n        &.paging-item--more{\n            background-color: #fff;\n            color: #505050;\n        }\n        //禁用\n        &.paging-item--disabled {\n            cursor: not-allowed;\n            opacity: .75;\n        }\n        &.paging-item--more,\n        &.paging-item--current {\n            cursor: default;\n        }\n        //选中\n        &.paging-item--current {\n            background-color: #0275d8;\n            color:#fff;\n            position: relative;\n            z-index: 1;\n            border-color: #0275d8;\n        }\n    }\n}\n</style>"]}]}